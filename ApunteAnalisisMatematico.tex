\documentclass[oneside]{book}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%Paquetes%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{empheq}
\usepackage[spanish]{babel}
\usepackage{amssymb,amsmath,amsthm}
\usepackage{enumerate}
\usepackage{verbatim}
\usepackage{ esint }
\usepackage{array}
\usepackage{listings}
\usepackage{ wasysym }
\usepackage{hyperref}
\usepackage{color}
\usepackage{url}
\usepackage{theorem}
\usepackage{boiboites}
\usepackage[spanish]{varioref}
\usepackage{fontspec}
\usepackage[a4paper,driver=xetex,top=2.5cm, bottom=2.7cm,%
layouthoffset=10mm, left=2.3cm, right=6.2cm,showframe]{geometry}
\usepackage{fancyhdr}
\usepackage{marginnote}
\usepackage{titlesec}
\usepackage{natbib}
\usepackage{chapterbib}
\usepackage{fontawesome}
\usepackage{xcolor}
\usepackage{appendix}
\usepackage{chngcntr}
\usepackage{etoolbox}
\usepackage{lipsum}
\usepackage{pgf,tikz,pgfplots}
\pgfplotsset{compat=1.15}
\usepackage{mathrsfs}
\usetikzlibrary{arrows}
\usepackage{imakeidx}



%%%%%%%%%%%%Configuración Página
\fancyfoot{}
\fancyhead[RO,LE]{\thepage}
\fancyhead[LO]{\leftmark}
\fancyhead[RE]{\rightmark}


\titleformat{\section}
  {\normalfont\Large\bfseries}{\thesection}{1em}{}[{\titlerule[0.8pt]}]

\AtBeginEnvironment{subappendices}{%
\chapter*{Apéndices}
\addcontentsline{toc}{chapter}{Apéndices}
\counterwithin{figure}{section}
\counterwithin{table}{section}
}



%%%%%%%%%%%%Define colores%%%%%%%%%%%%%%%%%%%%



\definecolor{color1}{rgb}{0.48,0.89,0.84}
\definecolor{color2}{rgb}{0.48,0.89,0.84}
\definecolor{color3}{rgb}{0.28, 0.51, .68}
\definecolor{color4}{rgb}{0.29,0.3,0.57}
\definecolor{color5}{rgb}{0.7,0.24,0.24}
\definecolor{color6}{rgb}{0.72,0.4,0.28}
\definecolor{color7}{rgb}{0.84,0.66,0.21}
\definecolor{color8}{HTML}{8E87C1}


%%%%%%%%%%%%%%%%%%%%%% Configuracion listing

\lstset{ %
  backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
  basicstyle=\footnotesize,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{color2},    % comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  frame=single,	                   % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{blue},       % keyword style
  language=Python,                 % the language of the code
  otherkeywords={symbols,dsolve,solve,Eq, simplify, subs, plot,Function},           % if you want to add more keywords to the set
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{color3}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{color4},     % string literal style
  tabsize=2,	                   % sets default tabsize to 2 spaces
  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}







%%%%%%%%%%%%%Configuración de fuente para XeLaTeX
%\setromanfont[Mapping=tex-text]{Oswald-Light}
%\setsansfont{Roboto Condensed}
%\setsansfont{Gentium Basic}
%\setsansfont{FreeMono}
\setsansfont{Oswald-Light}


\renewcommand{\familydefault}{\sfdefault}




%%%%%%%%%%%%%%%%%%%%%%%%%%Nuevos comandos entornos%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newenvironment{demo}{\noindent\emph{Dem.}}{$\square$ \newline\vspace{5pt}}

\newcommand{\com}{\mathbb{C}}
\newcommand{\rr}{\mathbb{R}}
\renewcommand{\epsilon}{\varepsilon}
\renewcommand{\lim}{\mathop{\rm lím}}
\renewcommand{\inf}{\mathop{\rm ínf}}
\renewcommand{\liminf}{\mathop{\rm líminf}}
\renewcommand{\limsup}{\mathop{\rm límsup}}
\renewcommand{\min}{\mathop{\rm mín}}
\renewcommand{\max}{\mathop{\rm máx}}
\renewcommand{\b}[1]{\boldsymbol{#1}}
\renewenvironment{frame}[1]{}{}
\newcommand{\link}{\reversemarginpar\marginnote{%\fontsize{24}{24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
%}\selectfont
\faExternalLink} %
\normalmarginpar
}
\newcommand{\advertencia}{\reversemarginpar\marginnote{\fontsize{16}{16}\selectfont
\faBolt}%
\normalmarginpar }
\newcommand{\lectura}{\reversemarginpar\marginnote{\fontsize{16}{16}\selectfont
\faBook }%
\normalmarginpar}
\newcommand{\actividad}{\reversemarginpar\marginnote{\fontsize{16}{16}\selectfont
\faCogs}%
\normalmarginpar}

%\renewcommand{\lim}{displaystyle\lim}
\DeclareMathOperator{\atan2}{atan2}
\DeclareMathOperator{\sen}{sen}



%%%%%%%%%%Definimos una caja con color
\newlength\mytemplen
\newsavebox\mytempbox
\makeatletter
\newcommand\mybluebox{%
\@ifnextchar[%]
{\@mybluebox}%
{\@mybluebox[0pt]}}
\def\@mybluebox[#1]{%
\@ifnextchar[%]
{\@@mybluebox[#1]}%
{\@@mybluebox[#1][0pt]}}
\def\@@mybluebox[#1][#2]#3{
\sbox\mytempbox{#3}%
\mytemplen\ht\mytempbox
\advance\mytemplen #1\relax
\ht\mytempbox\mytemplen
\mytemplen\dp\mytempbox
\advance\mytemplen #2\relax
\dp\mytempbox\mytemplen
\colorbox{color1}{\hspace{1em}\usebox{\mytempbox}\hspace{1em}}}
\makeatother
\DeclareDocumentCommand\boxedeq{ m g }{%
{\begin{empheq}[box={\mybluebox[2pt][2pt]}]{equation}% #1%
\IfNoValueF {#2} {\label{#2}}%
#1
\end{empheq}
}%
}


%%%%%%%%%%%%%%%%%%
\newboxedtheorem[boxcolor=color1, background=color2, titlebackground=color1,
titleboxcolor = black,thcounter=section]{problema}{Problema}{thcounter1}

\newboxedtheorem[boxcolor=color1, background=color2, titlebackground=color1,
titleboxcolor = black,thcounter=section]{teorema}{Teorema}{thcounter2}

\newboxedtheorem[boxcolor=color1, background=color2, titlebackground=color1,
titleboxcolor = black,thcounter=section]{definicion}{Definici\'on}{thcounter3}

\newboxedtheorem[boxcolor=color1, background=color2, titlebackground=color1,
titleboxcolor = black,thcounter=section]{lema}{Lema}{thcounter4}

\newboxedtheorem[boxcolor=color1, background=color2, titlebackground=color1,
titleboxcolor = black,thcounter=section]{corolario}{Corolario}{thcounter5}

\newboxedtheorem[boxcolor=color1, background=color2, titlebackground=color1,
titleboxcolor = black,thcounter=section]{proposicion}{Proposici\'on}{thcounter6}

\newboxedtheorem[boxcolor=color1, background=color2, titlebackground=color1,
titleboxcolor = black,thcounter=section]{codigo}{Función SymPy}{}

\newboxedtheorem[boxcolor=color1, background=color2, titlebackground=color1,
titleboxcolor = black,thcounter=section]{ejercicio}{Ejercicio}{}





\newcounter{ejemplo_cont}[chapter]
\setcounter{ejemplo_cont}{1}

\newenvironment{ejemplo}{\noindent\textbf{Ejemplo  \arabic{chapter}.\arabic{ejemplo_cont}.} }{\addtocounter{ejemplo_cont}{1}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%Para escibir en clase articulo o similar









\title{Análisis Real}

\author{Sonia Acinas y Fernando Mazzone}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\makeindex
\begin{document}



\fontsize{11pt}{11pt}\selectfont

\pagestyle{fancy}
 
 
 \maketitle
 \tableofcontents
%   

%\include{prologo}
%\include{Uni0}
%\include{Uni1}
\include{Uni2}

\printindex
\end{document}
